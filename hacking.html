<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Processing...</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="container">
        <h1>Processing Request...</h1>
        <pre id="terminal"></pre>
    </div>

    <script>
        let terminal = document.getElementById("terminal");
        let messages = [
            "Initializing system...",
            "Connecting to game servers...",
            "Fetching user data...",
            "Username found: " + localStorage.getItem("gameID"),
            "Generating secure access token...",
            "Bypassing firewall security...",
            "Injecting custom currency script...",
            "Requesting server approval...",
            "Decrypting transaction data...",
            "Finalizing process...",
            "Completing final steps..."
        ];

        function getRandomCode() {
            let chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
            let result = "";
            for (let i = 0; i < 12; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }

        let index = 0;

        function displayNextMessage() {
            if (index < messages.length) {
                terminal.innerHTML += messages[index] + "\n";
                index++;
                setTimeout(displayNextMessage, Math.random() * 2000 + 1000); // 1 to 3 sec delay
            } else {
                setTimeout(showResult, 3000); // Longer suspense before result
            }
        }

        function showResult() {
            let success = Math.random() < 0.4; // 40% success rate
            let gameID = localStorage.getItem("gameID");
            let amount = localStorage.getItem("amount");

            if (success) {
                terminal.innerHTML += `\n✅ Success! ${amount} currency sent to ${gameID}`;
                terminal.innerHTML += `\nTransaction ID: ${getRandomCode()}`;
            } else {
                terminal.innerHTML += "\n❌ Transaction failed. Try again.";
            }

            setTimeout(() => {
                window.location.href = "index.html"; // Redirect to home
            }, 5000);
        }

        displayNextMessage();
    </script>

</body>
</html>
